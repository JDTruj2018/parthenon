<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Domain &mdash; Parthenon  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Mesh" href="mesh.html" />
    <link rel="prev" title="State Management" href="../interface/state.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Parthenon
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../README.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../amr.html">Adaptive Mesh Refinement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../boundary_communication.html">Boundary communication-in-one concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../boundary_communication.html#sparse-boundary-communication">Sparse boundary communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../boundary_conditions.html">Boundary Conditions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../building.html">Building Parthenon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts_lite.html">C++11 Style Concepts Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../constants.html">Parthenon Built-in Physical Constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coordinates.html">Coordinates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Parthenon developer guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../driver.html">Application Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inputs.html">Input Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integrators.html">Integrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../load_balancing.html">Load Balancing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nested_par_for.html">Nested Parallelism</a></li>
<li class="toctree-l1"><a class="reference internal" href="../outputs.html">Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parthenon_arrays.html">Parthenon Set-Dimensional Arrays</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parthenon_arrays.html#parthenon-arbitrary-dimensional-arrays">Parthenon Arbitrary-Dimensional Arrays</a></li>
<li class="toctree-l1"><a class="reference internal" href="../particles.html">Particles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reductions.html">Task-based reductions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../solvers.html">Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sphinx-doc.html">How to Use Sphinx for Writing Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tasks.html">Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../weak_scaling.html">Running a Weak Scaling Test in Parthenon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interface/boundary.html">Boundary related classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interface/containers.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interface/metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interface/refinement_operations.html">Prolongation and Restriction Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interface/sparse.html">Sparse implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interface/state.html">State Management</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Domain</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#indexshape-class">IndexShape Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#indexrange-struct">IndexRange Struct</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-usage">Example Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mesh.html">Mesh</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Parthenon</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Domain</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/src/mesh/domain.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="domain">
<span id="id1"></span><h1>Domain<a class="headerlink" href="#domain" title="Link to this heading"></a></h1>
<section id="indexshape-class">
<h2>IndexShape Class<a class="headerlink" href="#indexshape-class" title="Link to this heading"></a></h2>
<p>The index shape class provides access to the index bounds of a mesh
block. The bounds are split into several domains which can be accessed
using a class enum <code class="docutils literal notranslate"><span class="pre">IndexDomain</span></code>. The <code class="docutils literal notranslate"><span class="pre">IndexDomain</span></code> can be:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">entire</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>which allows one to access the starting indices of the full meshblock including ghost zones</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">interior</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>which allows access to the interior of the meshblock excluding ghost cells</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">inner_x1</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>which accesses the ghost zones for “inner” face of a meshblock in the <code class="docutils literal notranslate"><span class="pre">x1</span></code> direction</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">outer_x1</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>which accesses the ghost zones for “outer” face of a meshblock in the <code class="docutils literal notranslate"><span class="pre">x1</span></code> direction</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">inner_x2</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>which accesses the ghost zones for “inner” face of a meshblock in the <code class="docutils literal notranslate"><span class="pre">x2</span></code> direction</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">outer_x2</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>which accesses the ghost zones for “outer” face of a meshblock in the <code class="docutils literal notranslate"><span class="pre">x2</span></code> direction</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">inner_x3</span></code><span class="colon">:</span></dt>
<dd class="field-odd"><p>which accesses the ghost zones for “inner” face of a meshblock in the <code class="docutils literal notranslate"><span class="pre">x3</span></code> direction</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">outer_x3</span></code><span class="colon">:</span></dt>
<dd class="field-even"><p>which accesses the ghost zones for “outer” face of a meshblock in the <code class="docutils literal notranslate"><span class="pre">x3</span></code> direction</p>
</dd>
</dl>
<p>The starting and ending indices of each dimension of the index shape can
be accessed using the <code class="docutils literal notranslate"><span class="pre">is</span></code>, <code class="docutils literal notranslate"><span class="pre">ie</span></code>, <code class="docutils literal notranslate"><span class="pre">js</span></code>, <code class="docutils literal notranslate"><span class="pre">je</span></code>, <code class="docutils literal notranslate"><span class="pre">ks</span></code>, <code class="docutils literal notranslate"><span class="pre">ke</span></code>
methods. Currently, access is limited to three dimensions, if needed it
can be extended. In cases where the indices are called often it may be
more conveneint to pull out the index bounds of a given domain. The
<code class="docutils literal notranslate"><span class="pre">IndexRange</span></code> struct provides an easy way to group the indices
together.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">IndexShape</span></code> class also provides a means for accessing the number
of cells in each dimension of each of the domains. This is provided with
the <code class="docutils literal notranslate"><span class="pre">ncellsi</span></code>, <code class="docutils literal notranslate"><span class="pre">ncellsj</span></code>, and <code class="docutils literal notranslate"><span class="pre">ncellsk</span></code> methods.</p>
<p>Below is a diagram illustrating a 2d instance of an IndexShape which we
will call cellbounds.</p>
<figure class="align-default">
<img alt="index_shape_diagram" src="../../_images/IndexShape.jpg" />
</figure>
</section>
<section id="indexrange-struct">
<h2>IndexRange Struct<a class="headerlink" href="#indexrange-struct" title="Link to this heading"></a></h2>
<p>The index range struct simply contains the starting and ending indices
as well as a method for returning the total number of cells within the
range.</p>
</section>
<section id="example-usage">
<h2>Example Usage<a class="headerlink" href="#example-usage" title="Link to this heading"></a></h2>
<p>The primary use case of the <code class="docutils literal notranslate"><span class="pre">IndexShape</span></code> occurs when indexing over the
different dimensions. Assuming we have a meshblock pointer given as
<code class="docutils literal notranslate"><span class="pre">pmb</span></code> e.g.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">IndexRange</span><span class="w"> </span><span class="n">ib</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pmb</span><span class="o">-&gt;</span><span class="n">cellbounds</span><span class="p">.</span><span class="n">GetBoundsI</span><span class="p">(</span><span class="n">IndexDomain</span><span class="o">::</span><span class="n">interior</span><span class="p">);</span>
<span class="k">const</span><span class="w"> </span><span class="n">IndexRange</span><span class="w"> </span><span class="n">jb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pmb</span><span class="o">-&gt;</span><span class="n">cellbounds</span><span class="p">.</span><span class="n">GetBoundsJ</span><span class="p">(</span><span class="n">IndexDomain</span><span class="o">::</span><span class="n">interior</span><span class="p">);</span>
<span class="k">const</span><span class="w"> </span><span class="n">IndexRange</span><span class="w"> </span><span class="n">kb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pmb</span><span class="o">-&gt;</span><span class="n">cellbounds</span><span class="p">.</span><span class="n">GetBoundsK</span><span class="p">(</span><span class="n">IndexDomain</span><span class="o">::</span><span class="n">interior</span><span class="p">);</span>

<span class="k">for</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kb</span><span class="p">.</span><span class="n">s</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">kb</span><span class="p">.</span><span class="n">e</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="w"> </span><span class="p">){</span>
<span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jb</span><span class="p">.</span><span class="n">s</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">jb</span><span class="p">.</span><span class="n">e</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="w"> </span><span class="p">){</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ib</span><span class="p">.</span><span class="n">s</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">ib</span><span class="p">.</span><span class="n">e</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">){</span>
<span class="w">      </span><span class="p">...</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="p">..</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../interface/state.html" class="btn btn-neutral float-left" title="State Management" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mesh.html" class="btn btn-neutral float-right" title="Mesh" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The Parthenon Collaboration and Triad National Security.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: lroberts36/boundary-exchange-test
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Tags</dt>
      <dd><a href="../../../../regression-gold-v15/index.html">regression-gold-v15</a></dd>
      <dd><a href="../../../../regression-gold-v16/src/mesh/domain.html">regression-gold-v16</a></dd>
      <dd><a href="../../../../regression-gold-v17/src/mesh/domain.html">regression-gold-v17</a></dd>
      <dd><a href="../../../../regression-gold-v18/src/mesh/domain.html">regression-gold-v18</a></dd>
      <dd><a href="../../../../regression-gold-v19/src/mesh/domain.html">regression-gold-v19</a></dd>
      <dd><a href="../../../../v0.8.0/src/mesh/domain.html">v0.8.0</a></dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="../../../../bdw/gauss-quad/src/mesh/domain.html">bdw/gauss-quad</a></dd>
      <dd><a href="../../../../bprather/backport-bicgstab/src/mesh/domain.html">bprather/backport-bicgstab</a></dd>
      <dd><a href="../../../../bprather/backport-solvers/src/mesh/domain.html">bprather/backport-solvers</a></dd>
      <dd><a href="../../../../bprather/fix-amr-ct/src/mesh/domain.html">bprather/fix-amr-ct</a></dd>
      <dd><a href="../../../../bprather/fix-line-continuation/src/mesh/domain.html">bprather/fix-line-continuation</a></dd>
      <dd><a href="../../../../bprather/fix-mpi-comms/src/mesh/domain.html">bprather/fix-mpi-comms</a></dd>
      <dd><a href="../../../../bprather/mbd_add_niceties/src/mesh/domain.html">bprather/mbd_add_niceties</a></dd>
      <dd><a href="../../../../bprather/pep1/src/mesh/domain.html">bprather/pep1</a></dd>
      <dd><a href="../../../../bprather/print-less/src/mesh/domain.html">bprather/print-less</a></dd>
      <dd><a href="../../../../bprather/register-internal-op/src/mesh/domain.html">bprather/register-internal-op</a></dd>
      <dd><a href="../../../../bprather/reqs-for-ct/src/mesh/domain.html">bprather/reqs-for-ct</a></dd>
      <dd><a href="../../../../brryan/particle_idx_bug/src/mesh/domain.html">brryan/particle_idx_bug</a></dd>
      <dd><a href="../../../../develop/src/mesh/domain.html">develop</a></dd>
      <dd><a href="../../../../forrestglines/cuda-with-nvc++-fix/src/mesh/domain.html">forrestglines/cuda-with-nvc++-fix</a></dd>
      <dd><a href="../../../../forrestglines/curvilinear/src/mesh/domain.html">forrestglines/curvilinear</a></dd>
      <dd><a href="../../../../forrestglines/fix-deprecated-kokkos-num-devices/src/mesh/domain.html">forrestglines/fix-deprecated-kokkos-num-devices</a></dd>
      <dd><a href="../../../../jdolence/inactive_blocks/src/mesh/domain.html">jdolence/inactive_blocks</a></dd>
      <dd><a href="../../../../jdolence/meshblockdata_add/src/mesh/domain.html">jdolence/meshblockdata_add</a></dd>
      <dd><a href="../../../../jdolence/quickfixes/src/mesh/domain.html">jdolence/quickfixes</a></dd>
      <dd><a href="../../../../jdolence/timer_based_loadbalancing/src/mesh/domain.html">jdolence/timer_based_loadbalancing</a></dd>
      <dd><a href="../../../../jmm/deprecate-unified-init/src/mesh/domain.html">jmm/deprecate-unified-init</a></dd>
      <dd><a href="../../../../jmm/fix-noparticle-case/src/mesh/domain.html">jmm/fix-noparticle-case</a></dd>
      <dd><a href="../../../../jmm/fix-restart/src/mesh/domain.html">jmm/fix-restart</a></dd>
      <dd><a href="../../../../jmm/fix-throw-fail/index.html">jmm/fix-throw-fail</a></dd>
      <dd><a href="../../../../jmm/flat-sparse/src/mesh/domain.html">jmm/flat-sparse</a></dd>
      <dd><a href="../../../../jmm/flatpack-test/src/mesh/domain.html">jmm/flatpack-test</a></dd>
      <dd><a href="../../../../jmm/get-me-off-this-rollercoaster/src/mesh/domain.html">jmm/get-me-off-this-rollercoaster</a></dd>
      <dd><a href="../../../../jmm/hotfix-sparse-control-fields/src/mesh/domain.html">jmm/hotfix-sparse-control-fields</a></dd>
      <dd><a href="../../../../jmm/metadata-fix/src/mesh/domain.html">jmm/metadata-fix</a></dd>
      <dd><a href="../../../../jmm/metadataset/src/mesh/domain.html">jmm/metadataset</a></dd>
      <dd><a href="../../../../jmm/particle-output/src/mesh/domain.html">jmm/particle-output</a></dd>
      <dd><a href="../../../../jmm/precomms-fill-derived/src/mesh/domain.html">jmm/precomms-fill-derived</a></dd>
      <dd><a href="../../../../lfroberts36/speedup-buffer-kernel/src/mesh/domain.html">lfroberts36/speedup-buffer-kernel</a></dd>
      <dd><a href="../../../add-index-range-masking/src/mesh/domain.html">lroberts36/add-index-range-masking</a></dd>
      <dd><a href="../../../add-morton-numbers/src/mesh/domain.html">lroberts36/add-morton-numbers</a></dd>
      <dd><a href="../../../add-multi-grid/src/mesh/domain.html">lroberts36/add-multi-grid</a></dd>
      <dd><a href="../../../add-negative-levels/src/mesh/domain.html">lroberts36/add-negative-levels</a></dd>
      <dd><a href="../../../add-noncell-amr/src/mesh/domain.html">lroberts36/add-noncell-amr</a></dd>
      <dd><a href="domain.html">lroberts36/boundary-exchange-test</a></dd>
      <dd><a href="../../../composable-boundary-conditions/src/mesh/domain.html">lroberts36/composable-boundary-conditions</a></dd>
      <dd><a href="../../../face-boundary-communication/src/mesh/domain.html">lroberts36/face-boundary-communication</a></dd>
      <dd><a href="../../../fix-dealloc-count-bug/src/mesh/domain.html">lroberts36/fix-dealloc-count-bug</a></dd>
      <dd><a href="../../../in-one-zero-memory-amr/src/mesh/domain.html">lroberts36/in-one-zero-memory-amr</a></dd>
      <dd><a href="../../../local-face-fields/src/mesh/domain.html">lroberts36/local-face-fields</a></dd>
      <dd><a href="../../../refactor-region-size/src/mesh/domain.html">lroberts36/refactor-region-size</a></dd>
      <dd><a href="../../../rename-cell-variable/src/mesh/domain.html">lroberts36/rename-cell-variable</a></dd>
      <dd><a href="../../../sparse-pack-update/src/mesh/domain.html">lroberts36/sparse-pack-update</a></dd>
      <dd><a href="../../../../pgrete/always-chunck/src/mesh/domain.html">pgrete/always-chunck</a></dd>
      <dd><a href="../../../../pgrete/fix-ascent-vars/src/mesh/domain.html">pgrete/fix-ascent-vars</a></dd>
      <dd><a href="../../../../pgrete/fix-chunk/src/mesh/domain.html">pgrete/fix-chunk</a></dd>
      <dd><a href="../../../../pgrete/sycl-test/src/mesh/domain.html">pgrete/sycl-test</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>